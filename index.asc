= Atividades de processamento digital de imagens
Otávio do Espírito Santo <otavio10espsanto@gmail.com>

==  2. Primeira unidade 

* item 1
* item 2

[source,cpp]
printf("Hello, World!");

=== 2.1 Primeira atividade

A primeira atividade consiste em fazer o negativo de uma imagem. Para realizar está atividade basta atribuír o valor da imagem como sendo o 255 (escala máxima do tom de cinza) menos o valor atual da imagem, isto irá inverter os tons, causando o efeito de imagem em negativo.

=== código

=== resultado
.resultado
image::images/resultado1.png[biel invertido]

=== 2.2 Segunda atividade

A segunda atividade consiste na troca dos quadrantes da imagem. O primeiro e o terceiro quadrantes são trocados de posição, o primeiro fica no lugar do terceiro e vice versa, o mesmo acontece com o segundo e quarto quadrantes. No código abaixo, foram lidas duas imagens com o mesmo tamanho, a segunda imagem é o resultado da imagem carregada originalmente. Dentro do laço é realizada a operação da troca dos quadrantes, os pixels do primeiro quadrante foram copiados para a posição do terceiro e vice versa, o mesmo foi feito no segundo e quarto quadrante. No final, tem-se o resultado.

==== código

[source, cpp]
#include <stdio.h>
#include <opencv2/opencv.hpp>

using namespace cv;

int main(int argc, char **argv){
	Mat image,altimage;
	image = imread(argv[1],CV_LOAD_IMAGE_GRAYSCALE);
	altimage = imread(argv[1],CV_LOAD_IMAGE_GRAYSCALE);
	if(!image.data)
		printf("erro ao abrir a image\n");
	for(int i=0; i<image.rows/2; i++)
		for(int j=0; j<image.cols/2; j++){
			altimage.at<uchar>(i,j) = image.at<uchar>(image.rows/2 + i,image.cols/2 + j);
			altimage.at<uchar>(i,image.cols/2 + j) = image.at<uchar>(image.rows/2 + i,j);
			altimage.at<uchar>(image.rows/2 + i,j) = image.at<uchar>(i,image.cols/2 + j);
			altimage.at<uchar>(image.rows/2 + i,image.cols/2 + j) = image.at<uchar>(i,j);
		}
	imshow("imagem trocada", altimage);
	imwrite("../images/resultado2.png", altimage);
	waitKey();
}

==== resultado
.resultado
image::images/resultado2.png[biel trocado]

=== 2.3.2 Terceira atividade 

A terceira atividade consiste na contagem do número de objetos com bolhas que existem em uma determinada imagem. Primeiramente é feito um pré processamento para a retirada dos objetos que encostam na borda, isso é feito através do floodfill, que percorre todos os pixels da mesma cor de pixel inicial, também chamado de raíz, e os pinta de uma cor. Depois do pré processamento, aplica-se um floodfill no fundo da image, isso ajuda na diferenciação do fundo da imagem das bolhas. Depois é feito a rotulação, onde cada objeto é pintado com um tom de cinza que começa de 1 e vai até a quantidade de objetos na imagem. Por fim, percorre-se a imagem até encontrar um pixel preto, isso indica a presença de uma bolha, e aplica-se o floodfill para pintar a bolha.

=== código

=== resultado
.resultado
image::images/resultado3.png[bolhas]

=== 2.4 Quarta atividade

=== código

=== resultado
.resultado
